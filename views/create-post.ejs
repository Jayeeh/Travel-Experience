<%- include('includes/header') %>

<div class="container">
    <h2>Create New Post</h2>

    <% if (typeof errors !== 'undefined' && errors.length > 0) { %>
        <div class="alert alert-danger">
            <ul class="mb-0">
                <% errors.forEach(function(error) { %>
                    <li><%= error %></li>
                <% }) %>
            </ul>
        </div>
    <% } %>

    <form action="/create-post" method="POST" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" class="form-control" name="title" id="title" value="<%= typeof title != 'undefined' ? title : '' %>">
        </div>

        <div class="mb-3">
            <label for="image" class="form-label">Image (Optional)</label>
            <input type="file" class="form-control" name="image" id="image" accept="image/*">
            <div class="form-text">Supported formats: JPEG, PNG, GIF (Max size: 5MB)</div>
        </div>

        <div class="mb-3">
            <label for="body" class="form-label">Content</label>
            <textarea name="body" id="body" class="form-control" rows="10"><%= typeof body != 'undefined' ? body : '' %></textarea>
            <div class="form-text">You can use Markdown formatting</div>
        </div>

        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Create Post</button>
            <a href="/home" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>

<%- include('includes/footer') %>
